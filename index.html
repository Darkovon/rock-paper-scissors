<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
    <script>

        /* Randomly chooses an index of the array and returns it*/
        function computerPlay() {
            let choices = ["rock", "paper", "scissors"];
            let finalChoice = choices[Math.floor(Math.random() * choices.length)];
            return finalChoice;
        }

        /* if statement into a switch to give results */
        function playRound(playerSelection, computerSelection) {
            if (playerSelection.toLowerCase() == "rock") {
                switch(computerSelection) {
                    case "rock":
                        return 2;
                        break;
                    case "scissors":
                        return 1;
                        break;
                    case "paper":
                        return 0;
                        break;
                }
            } else if (playerSelection.toLowerCase() == "scissors") {
                switch(computerSelection) {
                    case "rock":
                        return 0;
                        break;
                    case "scissors":
                        return 2;
                        break;
                    case "paper":
                        return 1;
                        break;
                }
            } else if (playerSelection.toLowerCase() == "paper") {
                switch(computerSelection) {
                    case "rock":
                        return 1;
                        break;
                    case "scissors":
                        return 0;
                        break;
                    case "paper":
                        return 2;
                        break;
                }
            }
        }

        /* Returns the winner */
        function winner(player, computer) {
            if (player > computer) {
                return "You Win! You beat the computer!";
            } else if (player < computer) {
                return "You lose! The computer won!";
            } else {
                return "Tie! Better play again!";
            }
        }

        /* Converts first letter of string to upper case */
        function capitalize(str) {
            return str.slice(0, 1).toUpperCase() + str.slice(1);
        }

        /* Plays the game 5 times */
        function game() {
            let i;
            let playerWins = 0;
            let computerWins = 0;
            for (i = 0; i < 5; i++) {
                let playerSelection = prompt("Enter your choice!");
                let computerSelection = computerPlay();
                if (playRound(playerSelection, computerSelection) == 2) {
                    console.log("Tie!");
                } else if (playRound(playerSelection, computerSelection) == 1) {
                    console.log(`You Win! ${capitalize(playerSelection)} beats ${capitalize(computerSelection)}`);
                    playerWins++;
                } else {
                    console.log(`You Lose! ${capitalize(computerSelection)} beats ${capitalize(playerSelection)}`);
                    computerWins++;
                }
            }
            console.log(winner(playerWins, computerWins))
        }
       
        game();
        
    </script>
</body>
</html>